---
layout: post
title:  "åˆ†äº«æˆ‘çš„å‡ ä¸ªGitHubæ•°å­¦ç±»å¼€æºé¡¹ç›®"
date:   2016-08-01 16:00:00 +0800
categories: code
---

ä¹‹å‰åœ¨å¼€å‘[ã€Œåˆ†å½¢çš„å¥¥ç§˜ã€][appstore-link]æ—¶ç§¯æ”’äº†ä¸€äº›ä¸æ•°å­¦å…³ç³»å¯†åˆ‡çš„Swiftä»£ç ç‰‡æ®µï¼Œæœ‰çš„éå¸¸æœ‰è¶£ï¼Œæœ‰çš„è¿˜æœ‰å®é™…ä½¿ç”¨ä»·å€¼ã€‚å› æ­¤æˆ‘æŠŠå®ƒä»¬å•ç‹¬æ•´ç†äº†å‡ºæ¥ï¼Œå…¨éƒ¨ç”¨Xcode Playgroundå‘ˆç°ã€‚ç°åœ¨å·²ç»å°†3ä¸ªé¡¹ç›®æ”¾åˆ°GitHubä¸Šäº†ï¼Œæ¬¢è¿å¼€å‘è€…å’Œçˆ±å¥½è€…å‚è§‚ã€‚

# 1. å¤æ•°è¿ç®— ï¼ swift-complex-number

[â å‰å¾€è¿™ä¸ªRepoï¼šhttps://github.com/gongzhang/swift-complex-number][swift-complex-number]

å¤æ•°(Complex Number)æ˜¯ä»€ä¹ˆï¼Ÿå¤æ•°å°±æ˜¯å®æ•°ï¼‹è™šæ•°(imaginary number)ã€‚è™šæ•°æ˜¯ä»€ä¹ˆï¼Ÿè™šæ•°å°±æ˜¯â€œ-1â€å¼€æ ¹å·ã€‚è™šæ•°è¿™ä¸ªæ¦‚å¿µå¥½åƒé«˜ä¸­æ•°å­¦é‡Œé¢å°±æœ‰ï¼Œä¸è¿‡é«˜è€ƒä¹‹ååº”è¯¥å°±æ²¡ä»€ä¹ˆå°è±¡äº†ï¼Œæ¯•ç«Ÿæ¦‚å¿µå¤ªæŠ½è±¡ï¼Œä¸å­¦ç›¸å…³ä¸“ä¸šçš„è¯å®Œå…¨ä¸èƒ½é¢†ä¼šè¿™ä¸ªâ€œå‡­ç©ºâ€åˆ¶é€ çš„æ¦‚å¿µæœ‰ä»€ä¹ˆå®é™…ç”¨é€”ï¼ˆè™½ç„¶æå…¶æœ‰ç”¨ï¼‰ã€‚

{% include retina-image.html path="images/github/exam-math.png" %}

> *[è¿™é«˜è€ƒé¢˜][exam]ä½ ä»¬è¿˜æœ‰å¤šå°‘å°è±¡ï¼Ÿ*

è™šæ•°ï¼ˆæˆ–å¤æ•°ï¼‰åœ¨ç¼–ç¨‹è¯­è¨€ä¸­å¾ˆå®¹æ˜“å®ç°ï¼Œç”¨ä¸¤ä¸ªæµ®ç‚¹æ•°åˆ†é‡ä»£è¡¨â€œå®éƒ¨â€å’Œâ€œè™šéƒ¨â€å°±å¯ä»¥äº†ã€‚ä¸è¿‡æœ‰è¶£çš„æ˜¯ï¼Œåˆ©ç”¨Swiftçš„è‡ªå®šä¹‰è¿ç®—ç¬¦ç‰¹æ€§ï¼Œå¯ä»¥åœ¨ä»£ç ä¸­æ¨¡ä»¿å‡ºç‰¹æœ‰çš„æ•°å­¦ä¸“ä¸šè®°æ³•ã€‚åƒè¿™æ ·ï¼š

```swift
print(ğ’Š ^ 2 == -1) // true
```

æ³¨æ„ä¸Šé¢çš„è™šæ•°å•ä½â€œğ’Šâ€æ˜¯ä¸ªUnicodeå­—ç¬¦ï¼Œè€Œéå°å†™è‹±æ–‡å­—æ¯â€œiâ€ã€‚ä»£ç é‡Œçš„â€œğ’Šâ€æ˜¯é¢„å…ˆå®šä¹‰å¥½çš„è™šæ•°å•ä½ï¼Œå°±åƒæ•°å­¦è¯¾æœ¬é‡Œçš„â€œğ’Šâ€ä¸€æ ·ã€‚

åˆ©ç”¨Swiftçš„è¿ç®—ç¬¦é‡è½½ç‰¹æ€§ï¼Œå¯ä»¥å®ç°å¤æ•°çš„åŸºæœ¬è¿ç®—ï¼š

```swift
let c1 = 3 + 2 * ğ’Š  // 3 + 2ğ’Š, same with Complex(3, 2)
let c2 = 1 - 4 * ğ’Š  // 1 - 4ğ’Š, same with Complex(1, -4)

print(c1 * c2 - (2 - 4 * ğ’Š)) // 9 - 6ğ’Š
```

ç”šè‡³å¯ä»¥ç”¨Unicodeåˆ›å»ºæ–°çš„è¿ç®—ç¬¦ï¼Œæ¥å®ç°å¤æ•°çš„è§’åº¦è®°æ³•ï¼š

```swift
let c3 = r âˆ  Ï† // r * (cos(Ï†) + sin(Ï†) * ğ’Š)
```

å…³äºSwiftè‡ªå®šä¹‰è¿ç®—ç¬¦æ–¹é¢çš„åº”ç”¨ï¼Œ[@Mattt][mattt]å¤§ç¥è¿˜ä¸“é—¨å¼€è¿‡ä¸€ä¸ªåœ¨Swiftä¸­å®ç°å¸¸è§æ•°å­¦è®°æ³•çš„é¡¹ç›®ï¼Œé¡¹ç›®åå«[Euler][euler]ï¼Œå¼ºçƒˆæ¨èå›´è§‚ã€‚

å½“ç„¶ï¼Œè¿™äº›Unicodeè¿ç®—ç¬¦ä¸ä¼šç»™å®é™…å¼€å‘å¸¦æ¥å¤šå°‘å¥½å¤„ï¼Œè€Œä¸”è¾“å…¥å¾ˆéº»çƒ¦ã€‚ä¸è¿‡æ­¤ç±»é¡¹ç›®çš„ç›®çš„ä¹Ÿå¹¶ä¸åœ¨äºæ•ˆç‡ï¼Œè€Œåœ¨äºç¾ï¼ˆqiangï¼‰æ„Ÿï¼ˆpoï¼‰ã€‚

# 2. ç»˜åˆ¶Juliaé›†åˆåˆ†å½¢ ï¼ julia-set-playground

[â å‰å¾€è¿™ä¸ªRepoï¼šhttps://github.com/gongzhang/julia-set-playground][julia-set-playground]

[@Matrix67][matrix67]å¤§ç¥çš„æ•°å­¦åšå®¢ä¸Šæœ‰å¤šç¯‡æ–‡ç« éƒ½æ˜¯æœ‰å…³åˆ†å½¢ä¸»é¢˜çš„ï¼Œå¯ä»¥åˆ°[è¿™é‡Œ][matrix67-fractal]é˜…è¯»ã€‚æˆ‘ä¹‹å‰ä¹Ÿæ˜¯å—ä»–å¯å‘æ‰å¼€å‘äº†[ã€Œåˆ†å½¢çš„å¥¥ç§˜ã€][appstore-link]è¿™ä¸ªappã€‚ç°åœ¨æˆ‘æŠŠç»˜åˆ¶Juliaé›†åˆåˆ†å½¢çš„Swiftä»£ç å…±äº«å‡ºæ¥ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥ç”¨Xcode Playgroundä¸€æ¢ç©¶ç«Ÿã€‚

{% include retina-image.html path="images/github/juliaset.png" %}

> *Xcode Playgroundä¸­çš„è¿è¡Œæ•ˆæœ*

åˆ†å½¢å›¾åƒæ ·å­è™½å¤æ‚ï¼Œä½†å…¶å®åªéœ€è¦ä¸€ä¸ªç®€å•è¿­ä»£å°±å¯ä»¥ç”Ÿæˆï¼ŒåŸç†éå¸¸ç®€å•ã€‚ç»å…¸çš„*é€ƒé€¸æ—¶é—´*ç®—æ³•ï¼Œå›¾åƒæ˜¯â€œpixel-by-pixelâ€ä¾æ¬¡è®¡ç®—æ¯ä¸€ä¸ªåƒç´ ç”Ÿæˆçš„ã€‚ä»£ç é‡Œé¢æˆ‘ç”¨*GCD(Grand Central Dispatch)*ç¨æŒ–æ˜äº†ä¸€ä¸‹å¤šæ ¸CPUçš„å¹¶è¡Œèƒ½åŠ›ï¼Œåœ¨æˆ‘çš„MacBook Proä¸Šæ‰§è¡Œæ¯”ç§»åŠ¨è®¾å¤‡å¿«å¾ˆå¤šã€‚

å½“ç„¶ï¼Œæ­¤ç±»è®¡ç®—ä»»åŠ¡è¿˜æ˜¯æœ€é€‚åˆäº¤ç»™GPUæ¥åšã€‚ä¸è¿‡å°±ç®—æ˜¯GPUï¼Œç›´æ¥åœ¨iPhoneå’ŒiPadä¸Šå…¨å±æ¸²æŸ“ä¹Ÿæ˜¯æ¯”è¾ƒå¡çš„ï¼Œæœ€æ–°çš„æœºå‹ä¹Ÿæ˜¯ï¼Œæ¯•ç«Ÿè®¡ç®—é‡åœ¨é‚£é‡Œæ‘†ç€ã€‚ä¸ä¿¡å¯ä»¥æ‹¿OpenGLæˆ–Metalè¯•è¯•á¶˜ áµ’á´¥áµ’á¶…ã€‚[ã€Œåˆ†å½¢çš„å¥¥ç§˜ã€][appstore-link]é‡Œé¢æˆ‘ç”¨äº†å¥½å‡ ç§ä¼˜åŒ–æ‰‹æ®µæ‰åšåˆ°ä¸»æµiOSè®¾å¤‡æµç•…æ¸²æŸ“ï¼Œä»¥åä¸“é—¨å†™ç¯‡æ–‡ç« å¥½äº†ã€‚

# 3. å›¾åƒå‚…ç«‹å¶å˜æ¢ ï¼ fft2d-swift-playground

[â å‰å¾€è¿™ä¸ªRepoï¼šhttps://github.com/gongzhang/fft2d-swift-playground][fft2d-swift-playground]

è¿™ä¸ªRepoå…¶å®ä¸ç®—æ˜¯æˆ‘åŸåˆ›çš„ï¼Œæˆ‘åªæ˜¯å°†[å¦ä¸€ä¸ª][js-fft]JavaScriptå®ç°çš„å›¾åƒFFTä»£ç ç”¨Swiftç¿»å†™äº†ä¸€éï¼Œå¯ä»¥åœ¨Playgroundé‡Œç©ã€å¯è¯»æ€§æ›´å¥½ä¸€äº›ç½¢äº†ã€‚

å…³äºå‚…ç«‹å¶å˜æ¢ï¼Œç¡®å®ä¸å¤ªå®¹æ˜“ä»ç›´è§‚è§’åº¦ç†è§£ï¼Œä¸è¿‡ä»ç„¶æœ‰éå¸¸å¥½çš„æ–‡ç« æŠŠå‚…ç«‹å¶å˜æ¢çš„ç›´è§‚æ„ä¹‰è®²è§£åœ°å¾ˆé€å½»ï¼Œæ¯”å¦‚[è¿™ç¯‡][fourier-zhihu]ã€‚å†™è¿™ä¸ªRepoçº¯ç²¹æ˜¯è‡ªå¨±è‡ªä¹ï¼Œå¤ä¹ ä¸€ä¸‹å‚…ç«‹å¶å˜æ¢ï¼Œæ²¡æœ‰ä»€ä¹ˆç›´æ¥ç›®çš„ã€‚ä¹‹åå¯ä»¥æ‹¿æ¥åˆ†æå›¾åƒçš„é¢‘ç‡ä¿¡æ¯åˆ†å¸ƒï¼Œè¯„ä¼°å›¾åƒçš„è§†è§‰æ•ˆæœï¼Œåº”è¯¥ç”¨å¾—ä¸Šã€‚

{% include retina-image.html path="images/github/fft.png" %}

> *â€œå›¾æ–‡å¹¶èŒ‚â€*

å®ç°å‚…ç«‹å¶å˜æ¢ï¼ˆäºŒç»´å¿«é€Ÿç¦»æ•£å‚…ç«‹å¶å˜æ¢ï¼‰çš„æ—¶å€™ï¼Œå½“ä¸­ä¹Ÿæ˜¯æœ‰ç”¨åˆ°å¤æ•°æ¦‚å¿µçš„ã€‚å› æ­¤ç›´æ¥ç”¨ä¸Šäº†å‰é¢çš„å¤æ•°è¿ç®—Repoçš„ä»£ç ï¼Œåˆ©ç”¨ç‡é«˜å§ï¼Ÿ

# Recap

Swiftå’ŒPlaygroundçœŸçš„æå…¶é€‚åˆå±•ç¤ºç¨‹åºç‰‡æ®µå’Œç›¸å…³æ¦‚å¿µã€‚æœŸå¾…ä»Šå¹´9æœˆè‹¹æœå‘å¸ƒXcode 8ã€Swift 3ï¼Œè¿˜æœ‰iPadç‰ˆçš„Swift Playgroundï¼Œå¸Œæœ›å®ƒä»¬å˜å¾—æ›´å¿«æ›´ç¨³å®šã€‚åˆ°æ—¶ç»™ä½ ä»¬å±•ç¤ºæ›´å¤šå¥½ç©çš„ä»£ç ã€‚

[appstore-link]: https://itunes.apple.com/app/id1086527481
[swift-complex-number]: https://github.com/gongzhang/swift-complex-number
[exam]: http://wenku.baidu.com/link?url=RcsY3-YrIU5ENgcniZlQu_kcRfPBhO_1V1P71BS-JuSTR6CAcjiniVqZIpFj6uU0CPlm5gXCtidJMvhy14g1PGWYQWPYN-A9dpvlNqbehY_
[mattt]: https://github.com/mattt
[euler]: https://github.com/mattt/Euler
[julia-set-playground]: https://github.com/gongzhang/julia-set-playground
[matrix67]: http://www.matrix67.com
[matrix67-fractal]: http://www.matrix67.com/blog/archives/tag/åˆ†å½¢
[fft2d-swift-playground]: https://github.com/gongzhang/fft2d-swift-playground
[js-fft]: https://github.com/turbomaze/JS-Fourier-Image-Analysis
[fourier-zhihu]: http://daily.zhihu.com/story/3939307